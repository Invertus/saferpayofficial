{"version":3,"file":"index.js","sources":["../src/index.ts","../src/iframe.ts"],"sourcesContent":["import { iframe } from \"./iframe\";\n\nconst addCommands = () => {\n  Cypress.Commands.add(\"iframe\", iframe);\n};\n\naddCommands();\n","/**\n * Cypress does not natively support iframes. Given the iframeSelector,\n * this will resolve with the iframe's wrapped body element when it's finished loading.\n * See https://github.com/cypress-io/cypress/issues/136\n * @param iframeSelector {string} iframe selector i.e. iframe#iframe-id\n * @returns {Chainable<Subject>} - returns iframe's wrapped body element to chain off of\n */\nexport const iframe = (iframeSelector: string) => {\n  // Get the iframe > document > body\n  // and retry until the body element is not empty and is loaded\n  return (\n    cy\n      .get(iframeSelector)\n      .its(\"0.contentDocument.body\")\n      .should(\"not.be.empty\", { timeout: 15000 })\n      // Wraps \"body\" DOM element to allow chaining more Cypress commands like \".find(...)\"\n      .then((body) => cy.wrap(body))\n  );\n};\n"],"names":["Cypress","Commands","add","iframeSelector","cy","get","its","should","timeout","then","body","wrap"],"mappings":"AAGEA,QAAQC,SAASC,IAAI,SCID,SAACC,GAGrB,OACEC,GACGC,IAAIF,GACJG,IAAI,0BACJC,OAAO,eAAgB,CAAEC,QAAS,OAElCC,KAAK,SAACC,UAASN,GAAGO,KAAKD"}